<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UTS Data Mining - Sistem Ujian Online</title>
    
    <!-- MathJax untuk render persamaan matematika -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            max-width: 800px;
            width: 100%;
            overflow: hidden;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .start-screen, .question-screen, .result-screen {
            padding: 40px;
            display: none;
        }

        .start-screen.active, .question-screen.active, .result-screen.active {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .info-box {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 8px;
        }

        .info-box h3 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .info-box ul {
            list-style: none;
            padding-left: 20px;
        }

        .info-box li {
            margin: 8px 0;
            position: relative;
        }

        .info-box li:before {
            content: "✓";
            position: absolute;
            left: -20px;
            color: #667eea;
            font-weight: bold;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-block;
            text-decoration: none;
            margin: 10px 5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-secondary {
            background: #6c757d;
        }

        .progress-bar {
            background: #e9ecef;
            height: 8px;
            border-radius: 4px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 4px;
        }

        .question-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            color: #6c757d;
        }

        .question-number {
            font-size: 1.2em;
            font-weight: bold;
            color: #667eea;
        }

        .timer {
            font-size: 1.1em;
            font-weight: bold;
            color: #dc3545;
        }

        .question-text {
            font-size: 1.2em;
            line-height: 1.6;
            margin-bottom: 30px;
            color: #333;
        }

        /* Style untuk persamaan matematika */
        .math-equation {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            text-align: center;
            font-size: 1.1em;
            border: 1px solid #e9ecef;
        }

        .inline-math {
            background: #f0f0f0;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
        }

        .options {
            list-style: none;
        }

        .option {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 15px 20px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .option:hover {
            background: #e9ecef;
            transform: translateX(5px);
        }

        .option.selected {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .option.correct {
            background: #28a745;
            color: white;
            border-color: #28a745;
        }

        .option.incorrect {
            background: #dc3545;
            color: white;
            border-color: #dc3545;
        }

        .option-label {
            font-weight: bold;
            margin-right: 10px;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .result-summary {
            text-align: center;
            margin-bottom: 40px;
        }

        .score-circle {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 30px;
            position: relative;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }

        .score-text {
            color: white;
            font-size: 3em;
            font-weight: bold;
        }

        .grade {
            font-size: 2em;
            font-weight: bold;
            margin: 20px 0;
        }

        .grade.excellent { color: #28a745; }
        .grade.good { color: #17a2b8; }
        .grade.fair { color: #ffc107; }
        .grade.poor { color: #dc3545; }

        .answer-review {
            margin-top: 40px;
        }

        .review-item {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 4px solid #e9ecef;
        }

        .review-item.correct {
            border-left-color: #28a745;
        }

        .review-item.incorrect {
            border-left-color: #dc3545;
        }

        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .review-status {
            font-weight: bold;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
        }

        .review-status.correct {
            background: #d4edda;
            color: #155724;
        }

        .review-status.incorrect {
            background: #f8d7da;
            color: #721c24;
        }

        .review-question {
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }

        .review-answer {
            margin: 5px 0;
            padding-left: 20px;
        }

        .your-answer {
            color: #dc3545;
        }

        .correct-answer {
            color: #28a745;
            font-weight: bold;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stat-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
        }

        .stat-label {
            color: #6c757d;
            margin-top: 5px;
        }

        @media (max-width: 600px) {
            .header h1 {
                font-size: 1.8em;
            }
            
            .container {
                margin: 10px;
            }
            
            .start-screen, .question-screen, .result-screen {
                padding: 20px;
            }
            
            .score-circle {
                width: 150px;
                height: 150px;
            }
            
            .score-text {
                font-size: 2em;
            }
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        .slide-in {
            animation: slideIn 0.5s ease-out;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>📊 UTS Data Mining</h1>
            <p>Sistem Ujian Online - 60 Soal Pilihan Ganda</p>
        </div>

        <!-- Start Screen -->
        <div class="start-screen active">
            <div class="info-box">
                <h3>📋 Informasi Ujian</h3>
                <ul>
                    <li>Jumlah Soal: 60 soal pilihan ganda</li>
                    <li>Waktu: 90 menit</li>
                    <li>Passing Grade: 60%</li>
                    <li>Setiap soal bernilai sama</li>
                </ul>
            </div>

            <div class="info-box">
                <h3>📚 Materi yang Diujikan</h3>
                <ul>
                    <li>Konsep Data Mining & KDD</li>
                    <li>Decision Tree & Classification</li>
                    <li>Naive Bayes Classifier</li>
                    <li>Support Vector Machine (SVM)</li>
                    <li>Similarity & Dissimilarity Measures</li>
                </ul>
            </div>

            <div class="info-box">
                <h3>⚠️ Peraturan Ujian</h3>
                <ul>
                    <li>Jawab semua soal sebelum waktu habis</li>
                    <li>Anda dapat mengubah jawaban sebelum submit</li>
                    <li>Hasil akan ditampilkan setelah ujian selesai</li>
                    <li>Review jawaban tersedia di akhir ujian</li>
                </ul>
            </div>

            <div style="text-align: center;">
                <button class="btn" onclick="startExam()">Mulai Ujian</button>
            </div>
        </div>

        <!-- Question Screen -->
        <div class="question-screen">
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>

            <div class="question-info">
                <div class="question-number" id="questionNumber">Soal 1 dari 60</div>
                <div class="timer" id="timer">90:00</div>
            </div>

            <div class="question-text" id="questionText"></div>

            <ul class="options" id="optionsList"></ul>

            <div class="navigation">
                <button class="btn btn-secondary" onclick="previousQuestion()" id="prevBtn">← Sebelumnya</button>
                <button class="btn" onclick="nextQuestion()" id="nextBtn">Selanjutnya →</button>
            </div>
        </div>

        <!-- Result Screen -->
        <div class="result-screen">
            <div class="result-summary">
                <h2>🎉 Ujian Selesai!</h2>
                <div class="score-circle">
                    <div class="score-text" id="scoreText">0%</div>
                </div>
                <div class="grade" id="gradeText"></div>
                <p id="gradeMessage"></p>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="correctCount">0</div>
                    <div class="stat-label">Benar</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="incorrectCount">0</div>
                    <div class="stat-label">Salah</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="timeSpent">0:00</div>
                                        <div class="stat-label">Waktu</div>
                </div>
            </div>

            <div class="answer-review" id="answerReview">
                <h3>📝 Review Jawaban</h3>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button class="btn" onclick="retakeExam()">Ulangi Ujian</button>
                <button class="btn btn-secondary" onclick="downloadResult()">Download Hasil</button>
            </div>
        </div>
    </div>

    <script>
        // Configure MathJax
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            },
            svg: {
                fontCache: 'global'
            }
        };

        // Data soal dengan persamaan matematika
        const questions = [
            {
                question: "Menurut Han dan Kamber (2006) dalam PDF 'Konsep Data Mining', data mining merupakan proses:",
                options: [
                    "Pengumpulan data dari berbagai sumber",
                    "Pemilihan atau 'menambang' pengetahuan dari jumlah data yang banyak",
                    "Penyimpanan data dalam data warehouse",
                    "Visualisasi data untuk presentasi"
                ],
                correct: 1
            },
            {
                question: "Tahapan dalam proses KDD (Knowledge Discovery in Databases) yang berfokus pada pendefinisian permasalahan atau tantangan bisnis dengan jelas disebut:",
                options: [
                    "Data Preparation",
                    "Data Mining",
                    "Business Objective Determination",
                    "Assimilation of Knowledge"
                ],
                correct: 2
            },
            {
                question: "Komponen dalam Arsitektur Sistem Data Mining yang berfungsi sebagai alat bantu yang digunakan oleh end user adalah:",
                options: [
                    "Data Mining Engine",
                    "Knowledge-base",
                    "Pattern Evaluation",
                    "Graphical User Interface (GUI)"
                ],
                correct: 3
            },
            {
                question: "Model Data Mining yang bertujuan untuk menjelaskan karakteristik data yang ada, seperti pengelompokan data, disebut model:",
                options: [
                    "Prediktif",
                    "Preskriptif",
                    "Deskriptif",
                    "Diagnostik"
                ],
                correct: 2
            },
            {
                question: "Berikut ini yang termasuk dalam model Data Mining Prediktif adalah, kecuali:",
                options: [
                    "Classification",
                    "Regression",
                    "Clustering",
                    "Forecasting"
                ],
                correct: 2
            },
            {
                question: "Proses penempatan objek-objek ke salah satu dari beberapa kategori yang telah ditetapkan sebelumnya dalam Data Mining disebut:",
                options: [
                    "Clustering",
                    "Regression",
                    "Association Rule",
                    "Classification"
                ],
                correct: 3
            },
            {
                question: "Dalam pembangunan model klasifikasi, dataset yang digunakan untuk membangun atau melatih model disebut:",
                options: [
                    "Test Set",
                    "Validation Set",
                    "Training Set",
                    "Unlabeled Set"
                ],
                correct: 2
            },
            {
                question: "Node dalam Decision Tree yang tidak memiliki edge yang masuk dan memiliki nol atau banyak edge yang keluar disebut:",
                options: [
                    "Leaf Node",
                    "Internal Node",
                    "Root Node",
                    "Parent Node"
                ],
                correct: 2
            },
            {
                question: "Model klasifikasi yang mengklasifikasikan record dengan menggunakan koleksi aturan 'if ... then ...' adalah:",
                options: [
                    "Decision Tree",
                    "Naive Bayes Classifier",
                    "Support Vector Machine",
                    "Rule-Based Classifier"
                ],
                correct: 3
            },
            {
                question: "Asumsi utama yang mendasari Naive Bayes Classifier adalah:",
                options: [
                    "Semua atribut memiliki distribusi normal",
                    "Atribut-atribut bersifat dependen secara kondisional",
                    "Setiap variabel (atribut) bersifat bebas (conditionally independent)",
                    "Data tidak mengandung outlier"
                ],
                correct: 2
            },
            {
                question: "Rumus $$P(X|C_i) = \\prod_{k=1}^{n} P(x_k|C_i)$$ digunakan dalam model klasifikasi:",
                options: [
                    "Support Vector Machine",
                    "Decision Tree",
                    "Naive Bayes Classifier",
                    "K-Nearest Neighbors"
                ],
                correct: 2,
                hasEquation: true
            },
            {
                question: "Metode klasifikasi yang bekerja atas prinsip Structural Risk Minimization (SRM) dengan tujuan menemukan hyperplane terbaik yang memisahkan dua buah kelas adalah:",
                options: [
                    "Naive Bayes Classifier",
                    "Decision Tree",
                    "Support Vector Machine (SVM)",
                    "Rule-Based Classifier"
                ],
                correct: 2
            },
            {
                question: "Dalam SVM, objek data terluar yang paling dekat dengan hyperplane dan berperan penting dalam menentukan hyperplane optimal disebut:",
                options: [
                    "Margin Vector",
                    "Boundary Vector",
                    "Support Vector",
                    "Optimal Vector"
                ],
                correct: 2
            },
            {
                question: "Metode Decision Tree termasuk ke dalam jenis pembelajaran mesin:",
                options: [
                    "Unsupervised Learning",
                    "Reinforcement Learning",
                    "Supervised Learning",
                    "Semi-supervised Learning"
                ],
                correct: 2
            },
            {
                question: "Berikut ini adalah salah satu kelebihan dari Decision Tree, kecuali:",
                options: [
                    "Mudah diinterpretasikan",
                    "Dapat menangani data numerik dan kategorikal",
                    "Sangat tahan terhadap overfitting tanpa perlu pruning",
                    "Dapat menemukan kombinasi data yang tidak terduga"
                ],
                correct: 2
            },
            {
                question: "Ukuran yang digunakan untuk mengukur kesamaan (homogeneity) atau ketidaksamaan (heterogeneity) data dalam sebuah node pada Decision Tree disebut:",
                options: [
                    "Information Gain",
                    "Purity Score",
                    "Impurity",
                    "Split Value"
                ],
                correct: 2
            },
            {
                question: "Rumus $$Gini = 1 - \\sum p_j^2$$ digunakan untuk menghitung impurity dengan metode:",
                options: [
                    "Entropy",
                    "Gini Index",
                    "Classification Error",
                    "Misclassification Rate"
                ],
                correct: 1,
                hasEquation: true
            },
            {
                question: "Jika probabilitas kelas 'Bad' adalah 0.375 dan kelas 'Good' adalah 0.625, maka nilai Impurity Parent menggunakan Classification Error Index adalah:",
                options: [
                    "0.29",
                    "0.47",
                    "0.375",
                    "0.625"
                ],
                correct: 2
            },
            {
                question: "Ukuran yang digunakan untuk menentukan seberapa baik sebuah atribut dapat memisahkan data ke dalam kelas-kelas yang lebih murni disebut:",
                options: [
                    "Split Ratio",
                    "Information Gain",
                    "Node Purity",
                    "Attribute Weight"
                ],
                correct: 1
            },
            {
                question: "Dalam PDF 'SIMILARITY dan DISSIMILARITY', pengukuran numerik tentang seberapa mirip 2 data objek, yang umumnya memiliki range [0,1], disebut:",
                options: [
                    "Dissimilarity",
                    "Distance",
                    "Correlation",
                    "Similarity"
                ],
                correct: 3
            },
            {
                question: "Semakin kecil jarak antara dua objek, maka kesamaannya akan:",
                options: [
                    "Semakin kecil",
                    "Semakin besar",
                    "Tidak berubah",
                    "Tidak dapat ditentukan"
                ],
                correct: 1
            },
            {
                question: "Rumus $$d(x,y) = \\sqrt{\\sum_{k=1}^{n} (x_k - y_k)^2}$$ adalah rumus untuk:",
                options: [
                    "Manhattan Distance",
                    "Minkowski Distance dengan r=1",
                    "Euclidean Distance",
                    "Hamming Distance"
                ],
                correct: 2,
                hasEquation: true
            },
            {
                question: "Minkowski Distance menjadi identik dengan Manhattan Distance ketika parameter r bernilai:",
                options: [
                    "0",
                    "1",
                    "2",
                    "∞"
                ],
                correct: 1
            },
            {
                question: "Metode pengukuran jarak yang umumnya digunakan untuk data String atau biner dengan menghitung jumlah posisi di mana simbol berbeda adalah:",
                options: [
                    "Euclidean Distance",
                    "Cosine Similarity",
                    "Jaccard Coefficient",
                    "Hamming Distance"
                ],
                correct: 3
            },
            {
                question: "Algoritma yang sering digunakan dalam teks mining untuk mengklasifikasikan dokumen berdasarkan kesamaan sudut antar vektor adalah:",
                options: [
                    "Euclidean Distance",
                    "Simple Matching Coefficient",
                    "Cosine Similarity",
                    "Hamming Distance"
                ],
                correct: 2
            },
            {
                question: "Diberikan dua objek biner A=(1,1,0,1) dan B=(1,0,0,1). Jumlah atribut di mana kedua objek sama-sama bernilai 1 (M11) adalah:",
                options: [
                    "1",
                    "2",
                    "3",
                    "4"
                ],
                correct: 1
            },
            {
                question: "Simple Matching Coefficient (SMC) memperhitungkan:",
                options: [
                    "Hanya kecocokan di mana kedua atribut bernilai 1",
                    "Hanya ketidakcocokan",
                    "Kecocokan di mana kedua atribut bernilai 1 dan kedua atribut bernilai 0",
                    "Hanya kecocokan di mana atribut pertama bernilai 1 dan kedua bernilai 0"
                ],
                correct: 2
            },
            {
                question: "Jaccard Coefficient berbeda dengan SMC karena Jaccard Coefficient:",
                options: [
                    "Memperhitungkan kecocokan M00 (kedua atribut bernilai 0)",
                    "Tidak memperhitungkan kecocokan M00 (kedua atribut bernilai 0)",
                    "Hanya untuk data numerik",
                    "Memiliki range nilai [-1,1]"
                ],
                correct: 1
            },
            {
                question: "Tahap dalam proses KDD yang melibatkan penggunaan algoritma untuk mengekstrak pola dari data yang telah diproses adalah:",
                options: [
                    "Data Selection",
                    "Data Transformation",
                    "Data Mining",
                    "Pattern Evaluation"
                ],
                correct: 2
            },
            {
                question: "Dalam Decision Tree, node yang merepresentasikan keputusan akhir atau kelas dari data disebut:",
                options: [
                    "Root Node",
                    "Decision Node",
                    "Branch Node",
                    "Leaf Node / Terminal Node"
                ],
                correct: 3
            },
            {
                question: "Jika sebuah node pada Decision Tree memiliki Gini Index = 0, maka node tersebut:",
                options: [
                    "Sangat heterogen",
                    "Memiliki campuran kelas yang seimbang",
                    "Murni (semua data dalam node tersebut termasuk dalam satu kelas)",
                    "Perlu di-split lebih lanjut"
                ],
                correct: 2
            },
            {
                question: "Kekurangan utama dari Naive Bayes Classifier adalah:",
                options: [
                    "Komputasinya sangat lambat",
                    "Sulit diinterpretasikan",
                    "Asumsi independensi antar atribut yang seringkali tidak valid di dunia nyata",
                    "Hanya bisa digunakan untuk data numerik"
                ],
                correct: 2
            },
            {
                question: "Tujuan dari Support Vector Machine (SVM) adalah untuk menemukan:",
                options: [
                    "Pusat dari setiap cluster",
                    "Aturan asosiasi dengan confidence tertinggi",
                    "Hyperplane dengan margin maksimal antar kelas",
                    "Pohon keputusan dengan kedalaman minimal"
                ],
                correct: 2
            },
            {
                question: "Pengukuran jarak yang paling sesuai untuk menghitung perbedaan antara dua string 'apel' dan 'apply' adalah:",
                options: [
                    "Euclidean Distance",
                    "Hamming Distance",
                    "Cosine Similarity",
                    "Jaccard Coefficient"
                ],
                correct: 1
            },
            {
                question: "Jika nilai Similarity antara dua dokumen adalah 0.95, ini mengindikasikan bahwa kedua dokumen tersebut:",
                options: [
                    "Sangat berbeda",
                    "Cukup berbeda",
                    "Cukup mirip",
                    "Sangat mirip"
                ],
                correct: 3
            },
            {
                question: "Dalam PDF 'Konsep Data Mining' (Pertemuan 1), evolusi Data Mining pada tahun 1970-an ditandai dengan munculnya:",
                options: [
                    "Data collection dan database creation",
                    "Relational data model dan relational DBMS implementation",
                    "RDBMS dan advanced data models",
                    "Data mining dan data warehousing"
                ],
                correct: 1
            },
            {
                question: "Menurut Berry (2004) dalam PDF 'Konsep Data Mining' (Pertemuan 1), data mining adalah kegiatan mengeksplorasi dan menganalisis data jumlah besar untuk menemukan:",
                options: [
                    "Kesalahan dalam data",
                    "Struktur database yang optimal",
                    "Pattern dan rule yang berarti",
                                        "Algoritma kompresi data"
                ],
                correct: 2
            },
            {
                question: "Tahap dalam proses KDD yang bertujuan untuk meyakinkan kualitas dari data yang telah dipilih pada tahapan sebelumnya, termasuk menangani noisy data dan missing values, adalah:",
                options: [
                    "Data Selection",
                    "Data Transformation",
                    "Data Preprocessing",
                    "Data Mining"
                ],
                correct: 2
            },
            {
                question: "Contoh pengetahuan berbentuk Association Rule seperti 'IF seorang customer cenderung lebih banyak membeli soft drink merk X, THEN customer tersebut diprediksi Mudah Rusak Loyalitasnya' termasuk dalam tahap apa pada proses KDD?",
                options: [
                    "Business Objective Determination",
                    "Data Preparation",
                    "Data Mining",
                    "Analysis of Results"
                ],
                correct: 2
            },
            {
                question: "Komponen dalam Arsitektur Sistem Data Mining yang merupakan kegiatan untuk menemukan pola data yang bernilai melalui knowledge base adalah:",
                options: [
                    "Graphical User Interface (GUI)",
                    "Data Mining Engine",
                    "Pattern Evaluation",
                    "Database/Data Warehouse Server"
                ],
                correct: 2
            },
            {
                question: "Model Data Mining Time Series Analysis berhubungan dengan:",
                options: [
                    "Pengelompokan objek berdasarkan kemiripan",
                    "Memprediksi nilai berkelanjutan",
                    "Nilai-nilai suatu variabel yang diatur secara periodik sepanjang periode waktu",
                    "Menemukan aturan sebab-akibat antar item"
                ],
                correct: 2
            },
            {
                question: "Teknik yang berusaha menirukan bagaimana otak bekerja, dengan syaraf-syaraf yang mengirimkan informasi satu sama lain, adalah model Data Mining:",
                options: [
                    "Decision Tree",
                    "Regression",
                    "Neural Network",
                    "Association Rule"
                ],
                correct: 2
            },
            {
                question: "Proses untuk melakukan segmentasi atau pengelompokan secara alami terhadap atribut suatu set data, termasuk ke dalam supervised task, adalah:",
                options: [
                    "Classification",
                    "Summarization",
                    "Clustering",
                    "Sequence Discovery"
                ],
                correct: 2
            },
            {
                question: "Model Data Mining yang digunakan untuk meneliti berbagai macam kegiatan data mining yang diteliti berdasarkan urutan kejadian untuk mengidentifikasi keterkaitannya dengan waktu adalah:",
                options: [
                    "Association Rule",
                    "Summarization",
                    "Sequence Discovery",
                    "Forecasting"
                ],
                correct: 2
            },
            {
                question: "Kunci utama algoritma pembelajaran dalam klasifikasi adalah membangun model dengan kemampuan generalisasi yang baik, artinya:",
                options: [
                    "Model sangat kompleks dan memiliki banyak aturan",
                    "Model hanya akurat pada data training",
                    "Model secara akurat memprediksi label kelas dari record yang tidak diketahui sebelumnya",
                    "Model dapat menjelaskan semua variasi dalam data training"
                ],
                correct: 2
            },
            {
                question: "Dalam Decision Tree untuk klasifikasi hewan mamalia, jika vertebrata berdarah dingin (cold-blooded), maka leaf node yang terbentuk adalah:",
                options: [
                    "Mammals",
                    "Birds",
                    "Non-mammals",
                    "Reptiles"
                ],
                correct: 2
            },
            {
                question: "Dalam Rule-Based Classifier, bagian 'IF' dari aturan 'IF (Kondisi) THEN y' disebut:",
                options: [
                    "Rule Consequent",
                    "Class Label",
                    "Rule Antecedent",
                    "Prediction"
                ],
                correct: 2
            },
            {
                question: "Berdasarkan studi kasus Bayesian Classifier, jumlah data dengan kelas 'Beli Komputer: Ya' adalah:",
                options: [
                    "5",
                    "9",
                    "14",
                    "Tidak dapat ditentukan dari slide tersebut saja"
                ],
                correct: 1
            },
            {
                question: "Dalam perhitungan $$P(X|C_i) \\times P(C_i)$$ pada Naive Bayes, $$P(C_i)$$ merepresentasikan:",
                options: [
                    "Probabilitas kemunculan data X",
                    "Probabilitas kondisional atribut xk diberikan kelas Ci",
                    "Probabilitas prior dari kelas Ci",
                    "Probabilitas posterior dari kelas Ci"
                ],
                correct: 2,
                hasEquation: true
            },
            {
                question: "Teknik soft margin dalam SVM digunakan ketika:",
                options: [
                    "Jumlah support vector terlalu sedikit",
                    "Dimensi data sangat tinggi",
                    "Kedua kelas data tidak selalu terpisah secara sempurna oleh hyperplane",
                    "Margin yang dihasilkan terlalu lebar"
                ],
                correct: 2
            },
            {
                question: "Salah satu kelemahan Decision Tree adalah tumpang tindih yang terjadi terutama ketika sangat banyak kelas dan kriteria yang digunakan. Hal ini dapat menyebabkan:",
                options: [
                    "Akurasi yang lebih tinggi",
                    "Waktu keputusan yang lebih cepat",
                    "Waktu keputusan yang lebih lama dan memori yang dibutuhkan lebih banyak",
                    "Model yang lebih sederhana"
                ],
                correct: 2
            },
            {
                question: "Jika nilai Impurity Parent dengan Gini Index adalah 0.47, dan setelah di-split berdasarkan atribut 'Assets', Information Gain yang diperoleh adalah 0.2825. Ini berarti atribut 'Assets':",
                options: [
                    "Tidak baik untuk melakukan splitting",
                    "Meningkatkan impurity",
                    "Memberikan pengurangan impurity yang signifikan",
                    "Membuat node menjadi lebih heterogen"
                ],
                correct: 2
            },
            {
                question: "Pada Iterasi ke-2 dalam pembangunan Decision Tree, tabel parent hanya mengambil data di mana atribut 'Assets' bernilai 'Medium'. Ini dilakukan karena:",
                options: [
                    "Atribut 'Assets' dengan nilai 'Low' dan 'High' sudah menghasilkan node murni (leaf node)",
                    "Atribut 'Savings' lebih penting dari 'Assets'",
                    "Atribut 'Income' memiliki Information Gain tertinggi",
                    "Data dengan 'Assets' bernilai 'Medium' paling banyak jumlahnya"
                ],
                correct: 0
            },
            {
                question: "Pengukuran numerik tentang seberapa berbeda 2 data objek, yang nilainya akan makin tinggi untuk 2 objek yang berbeda, disebut:",
                options: [
                    "Similarity",
                    "Correlation",
                    "Dissimilarity",
                    "Covariance"
                ],
                correct: 2
            },
            {
                question: "Jika dua objek data identik, maka nilai Euclidean Distance antara keduanya adalah:",
                options: [
                    "1",
                    "0",
                    "-1",
                    "Tidak terdefinisi"
                ],
                correct: 1
            },
            {
                question: "Minkowski Distance dengan parameter r = ∞ dikenal juga sebagai:",
                options: [
                    "Manhattan Distance",
                    "Euclidean Distance",
                    "Chebyshev Distance",
                    "Hamming Distance"
                ],
                correct: 2
            },
            {
                question: "Dalam perhitungan Cosine Similarity, jika hasil dot product antara dua vektor A dan B adalah 0, maka kedua vektor tersebut:",
                options: [
                    "Identik",
                    "Berlawanan arah",
                    "Ortogonal (tegak lurus, menunjukkan tidak ada kesamaan arah)",
                    "Memiliki panjang yang sama"
                ],
                correct: 2
            },
            {
                question: "Diberikan dua objek biner X=(1,0,1,0) dan Y=(1,1,0,0). Nilai M10 (atribut X=1, Y=0) adalah:",
                options: [
                    "0",
                    "1",
                    "2",
                    "3"
                ],
                correct: 1
            },
            {
                question: "Jika Jaccard Coefficient antara dua set item adalah 1, ini berarti:",
                options: [
                    "Kedua set tidak memiliki item yang sama",
                    "Kedua set memiliki beberapa item yang sama",
                    "Kedua set identik (memiliki semua item yang sama dan tidak ada item lain)",
                    "Salah satu set adalah subset dari yang lain"
                ],
                correct: 2
            },
            {
                question: "Proses mengubah data mentah menjadi format yang sesuai untuk analisis, yang meliputi seleksi fitur dan reduksi dimensionalitas, adalah bagian dari:",
                options: [
                    "Data Mining Engine",
                    "Pattern Evaluation",
                    "Data Preparation / Preprocessing",
                    "Assimilation of Knowledge"
                ],
                correct: 2
            }
        ];

        // Global variables
        let currentQuestion = 0;
        let userAnswers = new Array(questions.length).fill(null);
        let startTime = Date.now();
        let timerInterval;
        let timeLimit = 90 * 60; // 90 minutes in seconds

        // Start exam
        function startExam() {
            document.querySelector('.start-screen').classList.remove('active');
            document.querySelector('.question-screen').classList.add('active');
            startTimer();
            showQuestion();
        }

        // Timer function
        function startTimer() {
            timerInterval = setInterval(() => {
                timeLimit--;
                const minutes = Math.floor(timeLimit / 60);
                const seconds = timeLimit % 60;
                document.getElementById('timer').textContent = 
                    `${minutes}:${seconds.toString().padStart(2, '0')}`;
                
                if (timeLimit <= 0) {
                    clearInterval(timerInterval);
                    finishExam();
                }
            }, 1000);
        }

        // Show question
        function showQuestion() {
            const question = questions[currentQuestion];
            document.getElementById('questionNumber').textContent = 
                `Soal ${currentQuestion + 1} dari ${questions.length}`;
            document.getElementById('questionText').innerHTML = question.question;
            
            const optionsList = document.getElementById('optionsList');
            optionsList.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const li = document.createElement('li');
                li.className = 'option';
                if (userAnswers[currentQuestion] === index) {
                    li.classList.add('selected');
                }
                li.innerHTML = `
                    <span class="option-label">${String.fromCharCode(65 + index)}.</span>
                    ${option}
                `;
                li.onclick = () => selectOption(index);
                optionsList.appendChild(li);
            });
            
            // Update progress bar
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            
            // Update navigation buttons
            document.getElementById('prevBtn').disabled = currentQuestion === 0;
            document.getElementById('nextBtn').textContent = 
                currentQuestion === questions.length - 1 ? 'Selesai' : 'Selanjutnya →';
            
            // Re-render MathJax if question has equations
            if (question.hasEquation) {
                setTimeout(() => {
                    MathJax.typesetPromise([document.getElementById('questionText')]).catch((e) => console.error(e));
                }, 100);
            }
        }

        // Select option
        function selectOption(index) {
            userAnswers[currentQuestion] = index;
            const options = document.querySelectorAll('.option');
            options.forEach((option, i) => {
                option.classList.toggle('selected', i === index);
            });
        }

        // Navigation
        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion();
            }
        }

        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                showQuestion();
            } else {
                finishExam();
            }
        }

        // Finish exam
        function finishExam() {
            clearInterval(timerInterval);
            
            // Calculate results
            let correctCount = 0;
            questions.forEach((question, index) => {
                if (userAnswers[index] === question.correct) {
                    correctCount++;
                }
            });
            
            const score = Math.round((correctCount / questions.length) * 100);
            const timeSpent = Math.floor((Date.now() - startTime) / 1000);
            const minutes = Math.floor(timeSpent / 60);
            const seconds = timeSpent % 60;
            
            // Show results
            document.querySelector('.question-screen').classList.remove('active');
            document.querySelector('.result-screen').classList.add('active');
            
            document.getElementById('scoreText').textContent = score + '%';
            document.getElementById('correctCount').textContent = correctCount;
            document.getElementById('incorrectCount').textContent = questions.length - correctCount;
            document.getElementById('timeSpent').textContent = 
                `${minutes}:${seconds.toString().padStart(2, '0')}`;
            
            // Grade
            let grade, gradeClass, gradeMessage;
            if (score >= 85) {
                grade = 'A';
                gradeClass = 'excellent';
                gradeMessage = 'Luar biasa! Anda menguasai materi dengan sangat baik!';
            } else if (score >= 70) {
                grade = 'B';
                gradeClass = 'good';
                gradeMessage = 'Bagus! Anda memiliki pemahaman yang baik tentang materi.';
            } else if (score >= 60) {
                grade = 'C';
                gradeClass = 'fair';
                gradeMessage = 'Cukup baik! Anda lulus, tetapi masih perlu meningkatkan pemahaman.';
            } else {
                grade = 'D';
                gradeClass = 'poor';
                gradeMessage = 'Anda perlu belajar lebih giat lagi. Jangan menyerah!';
            }
            
            const gradeElement = document.getElementById('gradeText');
            gradeElement.textContent = `Grade: ${grade}`;
                        gradeElement.className = `grade ${gradeClass}`;
            document.getElementById('gradeMessage').textContent = gradeMessage;
            
            // Show answer review
            showAnswerReview();
            
            // Confetti for high scores
            if (score >= 85) {
                setTimeout(createConfetti, 500);
            }
        }

        // Show answer review
        function showAnswerReview() {
            const reviewContainer = document.getElementById('answerReview');
            reviewContainer.innerHTML = '<h3>📝 Review Jawaban</h3>';
            
            questions.forEach((question, index) => {
                const isCorrect = userAnswers[index] === question.correct;
                const reviewItem = document.createElement('div');
                reviewItem.className = `review-item ${isCorrect ? 'correct' : 'incorrect'}`;
                
                let questionHTML = question.question;
                
                reviewItem.innerHTML = `
                    <div class="review-header">
                        <span>Soal ${index + 1}</span>
                        <span class="review-status ${isCorrect ? 'correct' : 'incorrect'}">
                            ${isCorrect ? '✓ Benar' : '✗ Salah'}
                        </span>
                    </div>
                    <div class="review-question">${questionHTML}</div>
                    ${!isCorrect ? `
                        <div class="review-answer your-answer">
                            Jawaban Anda: ${userAnswers[index] !== null ? 
                                String.fromCharCode(65 + userAnswers[index]) + '. ' + 
                                question.options[userAnswers[index]] : 'Tidak dijawab'}
                        </div>
                    ` : ''}
                    <div class="review-answer correct-answer">
                        Jawaban Benar: ${String.fromCharCode(65 + question.correct)}. 
                        ${question.options[question.correct]}
                    </div>
                `;
                
                reviewContainer.appendChild(reviewItem);
                
                // Re-render MathJax for equations in review
                if (question.hasEquation) {
                    setTimeout(() => {
                        MathJax.typesetPromise([reviewItem]).catch((e) => console.error(e));
                    }, 100);
                }
            });
        }

        // Retake exam
        function retakeExam() {
            currentQuestion = 0;
            userAnswers = new Array(questions.length).fill(null);
            startTime = Date.now();
            timeLimit = 90 * 60;
            
            document.querySelector('.result-screen').classList.remove('active');
            document.querySelector('.start-screen').classList.add('active');
        }

        // Download result
        function downloadResult() {
            let correctCount = 0;
            questions.forEach((question, index) => {
                if (userAnswers[index] === question.correct) {
                    correctCount++;
                }
            });
            
            const score = Math.round((correctCount / questions.length) * 100);
            const timeSpent = Math.floor((Date.now() - startTime) / 1000);
            const minutes = Math.floor(timeSpent / 60);
            const seconds = timeSpent % 60;
            
            let resultText = `HASIL UJIAN TENGAH SEMESTER - DATA MINING\n`;
            resultText += `${'='.repeat(50)}\n\n`;
            resultText += `Tanggal: ${new Date().toLocaleDateString('id-ID')}\n`;
            resultText += `Waktu: ${new Date().toLocaleTimeString('id-ID')}\n\n`;
            resultText += `RINGKASAN HASIL\n`;
            resultText += `${'-'.repeat(30)}\n`;
            resultText += `Total Soal: ${questions.length}\n`;
            resultText += `Jawaban Benar: ${correctCount}\n`;
            resultText += `Jawaban Salah: ${questions.length - correctCount}\n`;
            resultText += `Skor: ${score}%\n`;
            resultText += `Grade: ${score >= 85 ? 'A' : score >= 70 ? 'B' : score >= 60 ? 'C' : 'D'}\n`;
            resultText += `Waktu Pengerjaan: ${minutes}:${seconds.toString().padStart(2, '0')}\n\n`;
            resultText += `DETAIL JAWABAN\n`;
            resultText += `${'='.repeat(50)}\n\n`;
            
            questions.forEach((question, index) => {
                const isCorrect = userAnswers[index] === question.correct;
                // Remove HTML tags and LaTeX from question text for plain text export
                let cleanQuestion = question.question.replace(/\$\$[^$]+\$\$/g, '[Persamaan Matematika]');
                cleanQuestion = cleanQuestion.replace(/\$[^$]+\$/g, '[Rumus]');
                
                resultText += `Soal ${index + 1}: ${isCorrect ? '✓ BENAR' : '✗ SALAH'}\n`;
                resultText += `Pertanyaan: ${cleanQuestion}\n`;
                
                if (!isCorrect) {
                    resultText += `Jawaban Anda: ${userAnswers[index] !== null ? 
                        String.fromCharCode(65 + userAnswers[index]) + '. ' + 
                        question.options[userAnswers[index]] : 'Tidak dijawab'}\n`;
                }
                
                resultText += `Jawaban Benar: ${String.fromCharCode(65 + question.correct)}. ${question.options[question.correct]}\n`;
                resultText += `${'-'.repeat(50)}\n\n`;
            });
            
            // Create and download file
            const blob = new Blob([resultText], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `Hasil_UTS_DataMining_${new Date().getTime()}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        }

        // Create confetti effect
        function createConfetti() {
            const colors = ['#667eea', '#764ba2', '#f093fb', '#4facfe'];
            const confettiCount = 100;
            
            for (let i = 0; i < confettiCount; i++) {
                const confetti = document.createElement('div');
                confetti.style.position = 'fixed';
                confetti.style.width = '10px';
                confetti.style.height = '10px';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.top = '-10px';
                confetti.style.opacity = Math.random();
                confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                confetti.style.transition = `all ${2 + Math.random() * 3}s linear`;
                confetti.style.pointerEvents = 'none';
                confetti.style.zIndex = '9999';
                document.body.appendChild(confetti);
                
                setTimeout(() => {
                    confetti.style.top = '100%';
                    confetti.style.transform = `rotate(${Math.random() * 720}deg)`;
                }, 10);
                
                setTimeout(() => {
                    confetti.remove();
                }, 5000);
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (document.querySelector('.question-screen').classList.contains('active')) {
                if (e.key === 'ArrowLeft' && currentQuestion > 0) {
                    previousQuestion();
                } else if (e.key === 'ArrowRight' && currentQuestion < questions.length - 1) {
                    nextQuestion();
                } else if (e.key >= '1' && e.key <= '4') {
                    selectOption(parseInt(e.key) - 1);
                } else if (e.key.toLowerCase() >= 'a' && e.key.toLowerCase() <= 'd') {
                    selectOption(e.key.toLowerCase().charCodeAt(0) - 97);
                }
            }
        });

        // Prevent accidental page refresh
        window.addEventListener('beforeunload', (e) => {
            if (document.querySelector('.question-screen').classList.contains('active')) {
                e.preventDefault();
                e.returnValue = '';
            }
        });

        // Auto-save progress to localStorage
        function saveProgress() {
            const progress = {
                currentQuestion,
                userAnswers,
                timeLimit,
                startTime
            };
            localStorage.setItem('examProgress', JSON.stringify(progress));
        }

        function loadProgress() {
            const saved = localStorage.getItem('examProgress');
            if (saved) {
                const progress = JSON.parse(saved);
                if (confirm('Anda memiliki ujian yang belum selesai. Lanjutkan?')) {
                    currentQuestion = progress.currentQuestion;
                    userAnswers = progress.userAnswers;
                    timeLimit = progress.timeLimit;
                    startTime = progress.startTime;
                    
                    document.querySelector('.start-screen').classList.remove('active');
                    document.querySelector('.question-screen').classList.add('active');
                    startTimer();
                    showQuestion();
                } else {
                    localStorage.removeItem('examProgress');
                }
            }
        }

        // Save progress every time user answers
        const originalSelectOption = selectOption;
        selectOption = function(index) {
            originalSelectOption(index);
            saveProgress();
        };

        // Clear saved progress when exam is finished
        const originalFinishExam = finishExam;
        finishExam = function() {
            originalFinishExam();
            localStorage.removeItem('examProgress');
        };

        // Load progress on page load
        window.addEventListener('load', loadProgress);

        // Mobile touch support
        let touchStartX = 0;
        let touchEndX = 0;

        document.addEventListener('touchstart', (e) => {
            touchStartX = e.changedTouches[0].screenX;
        });

        document.addEventListener('touchend', (e) => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });

        function handleSwipe() {
            if (document.querySelector('.question-screen').classList.contains('active')) {
                if (touchEndX < touchStartX - 50 && currentQuestion < questions.length - 1) {
                    nextQuestion();
                }
                if (touchEndX > touchStartX + 50 && currentQuestion > 0) {
                    previousQuestion();
                }
            }
        }

        // Console Easter egg
        console.log('%c🎓 UTS Data Mining System', 'font-size: 24px; font-weight: bold; color: #667eea;');
        console.log('%cDeveloped with ❤️ for students', 'font-size: 14px; color: #764ba2;');
        console.log('%cGood luck with your exam! 🍀', 'font-size: 14px; color: #28a745;');
        
        // Add custom styles for MathJax
        const style = document.createElement('style');
        style.textContent = `
            .MathJax {
                font-size: 1.1em !important;
            }
            
            .option .MathJax {
                font-size: 1em !important;
            }
            
            mjx-container {
                margin: 0 5px !important;
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>